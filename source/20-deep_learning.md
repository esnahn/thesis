# 건축 공간과 딥 러닝 {#sec:dl}

기계학습 및 심층 신경망 학습 연구의 동향과 건축 분야 활용 사례를 살피고,
단위평면 공간 계획에 대한 분석 방법론으로의 적용 가능성을 고찰한다.

## 기계학습

![기계학습과 심층 신경망 학습 벤 다이어그램 (Piatetsky-Shapiro, 2016)](data_science_venn.jpg){width=70% #fig:data_science_venn}

<!-- https://www.kdnuggets.com/2016/03/data-science-puzzle-explained.html -->

기계학습 (machine learning)은 데이터에서 다양한 종류의 작업법을 학습할 수 있는 알고리즘을 말한다.
이러한 작업에는
분류 (classification), 회귀분석 (regression),
새로운 사례의 합성 (synthesis), 결측값의 대체 (imputation of missing values)
등이 포함된다. [@Goodfellow-et-al-2016, p. 96--101]

![기계학습의 여러 모형 비교 (scikit-learn developers, 2019)](classifier_comparison.png)

<!-- © 2007 - 2019, scikit-learn developers (BSD License).
https://scikit-learn.org/stable/auto_examples/classification/plot_classifier_comparison.html -->

그러나 기계학습은 오랫동안 물체 인식처럼 사람은 쉽게 처리하는 작업에 어려움을 겪었다.
물체의 모양을 담고 있는 사진을 아주 작은 이미지로 압축하여 표현하여도,
각각의 픽셀은 아무 값이나 가질 수 있는 독립적인 변수가 되고,
이미지를 표현하기 위해 필요한 모든 픽셀의 값은
기계학습으로 처리할 수 없는 고차원 공간의 좌표로 표현된다.
차원의 저주 (curse of dimensionality)는
이렇게 데이터의 차원이 늘어날수록 기계학습이 풀기가 지수함수적으로 어려워지는 현상을 의미한다.
[@Goodfellow-et-al-2016, p. 152--154]

## 딥 러닝

신경망은 기계학습 방법론 중 하나
정의 및 설명...

심층 학습이라는 뜻인 딥 러닝 (deep Learning)은
기계학습의 한 분야인 신경망을 더욱 깊은 구조로 발전시킨 심층 신경망을 활용하는 방법론이다.
입력층과 출력층 사이에 여러 은닉층을 갖춘 심층 신경망은
여러 계층 구조를 이용하여 단순한 개념을 결합해 복잡한 개념을 학습하는 것이 가능하다.
[@fig:cnn]은 심층 신경망 모형이 물체의 모양을 인식하는 과정을 보여준다.
단순한 경계선의 인식에서 시작해
점점 더 복잡한 모양을 인식하는 계층을 거쳐
사람과 자동차라는 복잡한 대상을 식별할 수 있게 된다. [@Goodfellow-et-al-2016, pp. 5--6]

![심층 신경망 모형의 구조 [@Goodfellow-et-al-2016, p. 6; @zeiler2014visualizing 에서 재구성]](deeplearning.png){#fig:cnn}

CNN (convolutional neural networks, 합성곱 신경망)은
컴퓨터 이미지처럼 격자 구조로 구성된 데이터를 처리하는 데 특화된 모형이다.
[@Goodfellow-et-al-2016, 326]
이미지 외에도 바둑판이나 건축 공간을 모형화한 가시성 그래프 등
격자 구조의 행렬로 표현할 수 있는 모든 대상은 CNN의 입력값이 될 수 있다.
바둑 인공지능인 알파고에도
착수 위치를 분석하는 정책망과 승률을 예측하는 가치망에 CNN이 적용되었다.
(@fig:alphago)

![알파고에 사용된 합성곱 신경망 [@Silver2016]](alphago.png){width=70% #fig:alphago}

기계학습은 더 복잡하고 어려운 문제를 해결하기 위하여 더 많은 데이터를 필요로 한다.
손으로 쓴 0부터 9까지 10가지 숫자를 구분하는 MNIST 데이터셋은 수만 개의 손글씨 이미지를 담고 있다.
그러나 약 1만 가지 종류의 이미지를 분류하는 ImageNet10K 데이터셋은 1천만 개에 달하는 이미지를 포함한다.
본 연구에서 구축한 한국 아파트 단위평면 데이터셋의 경우
약 5만 개의 단위평면을 포함하고 있어 MNIST와 유사한 정도의 규모가 된다.
따라서 평면 데이터셋에 기계학습을 적용하였을 때,
한국 아파트의 단위평면을 보고 약 10가지로 분류하는 정도의 일을 처리할 수 있을 것으로 기대할 수 있다.
(@fig:increasing_dataset)

딥 러닝은 더 많은 노드를 더 깊은 구조로 연결된 신경망으로 더 복잡한 문제를 수행할 수 있다.
비교적 단순한 문제에도 깊은 구조의 모형이 필요한 것은
오래 전부터 연구되었던 기계학습 방법론인 신경망이 최근에서야 두각을 나타내는 이유이기도 하다.
그러나 컴퓨터의 성능이 발전하면서 신경망의 규모도 지수함수적 속도로 증가하고 있다.
이러한 성장은
현재 벌과 개구리의 뇌를 이루는 뉴런의 수와 비슷한 규모의 딥 러닝 모형이
21세기 중반에는 인간의 뇌에 맞먹는 크기에 도달할 것이라는 예측으로 이어진다.
(@fig:increasing_neurons)
이러한 추세가 계속 이어져 예측이 실현될지는 알 수 없지만,
컴퓨터의 성능이 계속 발전하고 기계학습 연구가 진전될수록
앞으로도 다양한 분야에서 인간만이 할 수 있었던 일을 컴퓨터가 더 많이 맡게 될 것이다.

<div id="fig:">

![시간에 따라 증가하는 데이터셋 크기 (빨간 선은 [@sec:floorplan]의 한국 아파트 데이터셋의 크기)](increasing_dataset.png){#fig:increasing_dataset} \qquad
![시간에 따라 증가하는 신경망 크기](increasing_neurons.png){#fig:increasing_neurons}

딥 러닝의 성장 속도 [@Goodfellow-et-al-2016, pp. 19, 23]
</div>

## 딥 러닝의 해석

추가 설명 필요...

딥 러닝은 다양한 분야에서 다른 기계학습 방법론보다
뛰어난 성능을 보이지만, 데이터에서 학습한 지식을
사람이 이해하기 어렵다는 문제가 있다.

신경망 안에서 입력
데이터의 특성은 데이터에서 찾아낸 규칙을 표현하는
다차원 벡터공간인 잠재공간 (latent space) 으로 재현된다.
그러나 데이터의 규칙과 잠재공간 사이에는 비선형적인
관계만 존재한다. 신경망은 이러한 상태로도 정확한 답을
내놓을 수 있지만, 학습된 지식 자체를 사람이 이해하고
자 할 때는 이러한 신경망의 특성이 문제가 된다.

CAM (class activation mapping)은 CNN 모형 내부
구조를 이해할 수 있도록 개발된 방법론이다.
신경망이 입력된 데이터를 특정한 범주로 분류하는 이유를
입력 데이터의 특정 영역으로 제시한다. [@fig:cam]은 이를
닦고 나무를 자르는 사진을 인식하여 분류하는 CNN 모형이
사진의 어느 부분을 보고 인식하는지를 CAM으로 분석한 것이다.

신경망이 사진 속에서 일어나는 일을 인식하는 데 칫솔과 전기톱뿐만 아니라,
나무를 자르는 사람의 머리 또한 중요하게 작용한다는 것을
CAM 분석을 통하여 알 수 있다.
[@Zhou2015]

![CAM 기법을 이미지 분류 CNN에 적용한 예 [@Zhou2015, p. 1]](cam_zhou.png){#fig:cam}

## 딥 러닝의 건축 분야 활용

ArchiGAN은 심층 신경망 모형인 Pix2Pix를 보스턴 지역의 아파트 계획에 적용하여,
대지 형태에서 건물 형태, 단위세대 공간배치, 실내 가구 배치를
연쇄적으로 생성하는 모형이다. [@Chaillou2019]

ArchiGAN이 토대로 삼은 Pix2Pix는
GAN (generative adversarial network, 적대적 생성 신경망)의 일종으로,
ArchiGAN은
보스턴 아파트와 닮은 가상의 평면을 만들어내는 생성자 (generator)와
실제 아파트와 생성자가 생성한 가상 평면을 구분하는 판별자 (discriminator)
두 신경망이 서로 적대적으로 경쟁하며 학습하는 구조로 이루어진다.
이러한 학습 과정을 통하여
보스턴 아파트의 실내 공간을
거실, 침실, 화장실, 복도, 주방, 벽장 6가지 공간으로 분류하고,
생성자가 사람이 보기에 실제 보스턴의 아파트와 구분할 수 없는 새로운 평면을 생성하도록 한다.
이때 단위평면의 윤곽을 입력받아 그에 맞는 실내 공간배치와 가구 배치를 자동으로 생성할 수 있다.
[@Chaillou2019]

![ArchiGAN [@Chaillou2019, p. 42]](archigan.png)

기계학습은 귀납적으로 데이터에서 잠재된 규칙을 찾아내는 방식이기 때문에,
사람처럼 데이터에 없는 규칙을 상상하고 외삽을 통해 적용하기는 어렵다.
보스턴 지역의 일부 아파트 평면도를 대상으로 학습한 ArchiGAN을
한국 아파트에서 전형적인 계단실형 단위세대에 적용하면
전혀 엉뚱한 설계안을 내놓는다. (@fig:archigan_korea)
복도가 없이 거실 중심으로 각 실이 배치된 한국 아파트의 공간배치를 짐작하지 못하며,
그렇다고 한국 아파트의 공간에 보스턴 아파트의 내부 배치를 옮겨놓지도 못한다.
내놓는 것은 침실과 주방/식당으로 채워지고 복도가 각 방과 구분되지 않는
주거의 기본 조건을 갖추지 못한 공간이다.

이처럼 딥 러닝 방법론은 건축 공간의 특성을 학습하는 데 활용할 수 있다.
그러나 딥 러닝과 더 나아가 기계학습은 데이터 안에 담긴 규칙을 발견할 뿐,
그 규칙을 학습한 대상과 다른 건축 공간에 적용하기 어렵다는 한계가 있다.
같은 용도의 건축물이더라도 다른 유형의 건축 공간을 분석하는 딥 러닝 모형을 만들기 위해서는
해당 유형이 포함된 건축 공간 데이터를 학습시켜야 함을 알 수 있다.

![ArchiGAN을 한국 아파트 단위세대에 적용한 결과 [@Chaillou2019]](archigan_korea.png){width=60% #fig:archigan_korea}

## 소결

기계학습은 한국 아파트 전수조사와 같은 대규모 분석에 적합한 방법론이다.

건축학을 포함한 다양한 학문 분야에서 건축 공간에 기계학습을 적용한 연구를 이미 수행하고 있다.

심층 신경망 학습은 특히 2차원 평면 및 3차원 공간을 분석하는 데에 적합하며,
단위세대 평면계획에 적용하여 평면유형 분류 및 평면도 대안 생성 등에 활용할 수 있다.

그러나 기계학습은 데이터에 잠재된 정보만을 찾아낼 수 있다는 한계도 있으므로,
한국 아파트를 잘 대표할 수 있는 데이터를 준비하는 것도 중요하다.

이러한 고찰을 통하여,
한국 아파트의 진화과정을 딥 러닝으로 분석하기 위해서는
한국 아파트의 공간배치를 2차원 이미지의 형태로 변환한 데이터셋이
요구된다는 것을 확인하였다.

\newpage
