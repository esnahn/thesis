# 한국 아파트 공간배치 생성

## 목적

한국 아파트의 단위세대 공간배치를 학습하고 새로운 평면을 생성할 수 있는 모형을 개발한다.
이를 통해 한국 아파트 데이터셋의 활용가능성과 기계학습을 통한 건축계획의 가능성을 확인한다.

## 방법

적대적 생성 신경망 (GAN; Generative Adversarial Network)을 적용한다.

다양한 평면을 생성하는 생성자 (generator)는 실제 한국 아파트와 구분할 수 없는 평면을 생성하는 것이 목표이고,
실제 아파트의 평면과 생성자가 만든 평면을 판별하는 판별자 (discriminator)는 생성자에게 속지 않고 실제와 가상의 평면을 구분하는 것이 목표이다.
이렇게 서로 반대 목표를 지닌 생성자와 판별자는 서로 경쟁하며 서로를 속이고 속지 않도록 학습한다. 그 과정에서 생성자는 실제와 구분하기 어려운 평면을 만들 수 있게 된다.

본 연구에서는 DCGAN [Deep Convolutional Generative Adversarial Network; @radford2015unsupervised]을 기반으로
한국 아파트 공간배치 데이터셋에 맞게 변형한 모형을 적용한다.

면적에 의한 영향을 통제하기 위해 전용면적 85 $m^2$ 규모 (82 $m^2$ 초과 87 $m^2$ 미만)의 평면만을 대상으로 학습한다.

## 결과

한국 아파트 공간배치 데이터셋을 활용하여 한국 아파트의 공간배치를 학습시키고
이를 기반으로 새로운 평면을 생성할 수 있었다.

![생성된 평면](gan_generated.png){#fig:generated}

![생성된 평면 중 일부 (연구자 선택)](gan_handpicked.png)

생성된 평면은 한국 아파트의 다양한 공간배치를 잘 담아내고 있다.

한편, 생성된 모든 평면이 실제로 존재할 수 있는 아파트의 공간배치를 반영한 것은 아니다.
예를 들어, 한 평면은 판상형 아파트의 단위세대와 닮았으면서도 두 면을 아우르는 연속된 발코니를 지니고 있다.
(@fig:generated, 오른쪽 위)

이는 단위세대 공간배치 데이터셋 안에 인접 세대나 수직동선의 배치가 반영되어있지 않기 때문이다.
대부분의 평면도는 거실과 발코니가 위치한 주향이 아래를 향하도록 그려져있지만,
일부는 좌우를 향하도록 90도 회전되어있다.
이러한 데이터로 학습한 모형은 두 가지 주향의 평면이 자연스럽게 결합된 평면을 생성한다.

DCGAN의 생성자는 0을 평균으로 하는 무작위 노이즈 벡터를 입력받아 평면을 생성한다.
생성된 모든 평면은 좌표의 모든 성분이 0인 원점을 중심으로 분포한 서로 다른 좌표에 대응된다.
따라서 원점에 대응하는 공간배치는 한국 아파트의 모든 평면에 공통되는 공간배치의 원형으로 해석할 수 있다.

![학습된 한국 아파트 공간배치의 원형](gan_zero.png){#fig:prototype height=25%}

생성자 모형이 학습한 한국 아파트 공간배치의 원형은
단위세대 중앙에 위치한 거실이 주향(아래쪽)에서 외기와 면하여 배치되고,
전면에는 발코니가, 좌우로는 침실이 위치한 모습이다.
(@fig:prototype)

원형에서 다양한 유형의 평면이 생성되는 과정을
원점에서 해당 평면에 대응되는 좌표로의 선형이동 과정에서 생성되는 결과물을 통해 분석할 수 있다.

![평면의 구체화 과정](gan_zero_to_noise.png){#fig:realization}

LDK가 중앙에 배치된 3베이형 아파트 평면의 경우
전면의 배치가 그대로 유지되면서 나머지 부분이 생성된다.
그러나 2베이형 아파트의 경우 전면 배치가 달라져야 하기 때문에
평면이 구체화되기 전에 원형에 변형이 가해지는 단계가 추가된다.

[@fig:realization]의 마지막 줄 사례에서
전면이 2베이인 아파트를 생성하기 위하여,
3베이인 원형에서 방 하나를 제거하고,
전체적으로 사각형인 평면 형상과 2베이라는 요구조건 사이에서
찌그러진 사각형의 타협안을 내놓는다.
이는 '베이'라는 물리적인 조건에 대한 정보 없이도,
한국 아파트 평면에서 나타나는 물리적, 사회적 제약에 따른 특징을
스스로 학습한 사례이다.

90도 회전된 평면을 동일한 방식으로 생성하는 과정도 볼 수 있다. (@fig:realization, 4번째 줄)
전면 발코니와 거실이 차례로 사라지고, 좌우로 배치된 LDK를 새롭게 생성한다.
2베이와 3베이를 공통된 원형에서 생성하는 것과 반대로,
90도 회전된 평면을 전혀 다른 과정을 거쳐 생성하는 것은 두 평면의 공통점을 학습하지 못하였음을 보여준다.
이러한 한계는 앞에서도 살펴본 바와 같이 
데이터셋에 단위세대 외부 조건에 대한 정보가 없기 때문에 발생한다.
공간배치 데이터셋을 한국 아파트 연구에 폭넓게 활용하기 위해서는 이러한 점을 고려할 필요가 있다.

\clearpage
