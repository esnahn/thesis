### 시기별 공간배치 분석 모형

이 장에서는
[@sec:floorplan]에서 구축한 한국 아파트 단위평면 데이터셋을 활용하여
시기에 따른 단위평면의 공간배치 변화를 분석한다.
이를 위하여,
먼저 시기별 공간배치를 학습하고 각 시기별 단위평면을 분류할 수 있는 딥 러닝 모형을 구축하였다.
구체적으로,
본 연구에 적용하는 딥 러닝 모형은
[-@sec:cam]절에서 선정한 VGG-GAP 모형을
단위평면 데이터셋에 맞게 수정하고
새로운 상태에서 단위평면 데이터셋을 학습시킨 것이다.

Zhou 등 [-@Zhou2015]의 VGG-GAP 모형은
원래 VGGNet 모형과 마찬가지로
RGB 이미지를
224\times 224\times 3 크기의 행렬로 입력받아,
사진 속 대상을 1000개 클래스 중 하나로 분류한다.
본 연구에서는 이러한 모형을 수정하여
6가지 주거 공간의 배치로 표현된 단위평면을
56\times 56\times 6 행렬로 입력받아,
해당 평면이 계획된 시기를
5년 단위 10개 시기 중 하나로 판단하는
수정 VGG-GAP 모형을
공간배치 분석 모형으로 구축한다.
입력층과 출력층 뿐만 아니라
전체적인 신경망의 규모도
이러한 작업의 난도에 맞추어 조정한다.
특히, 출력층 직전 계층에 위치한 GAP 계층의 규모를
512개 노드로 축소한다 ([@fig:vgg]).

![수정 VGG-GAP 모형 개념도](vgg-gap.png){#fig:vgg width=75%}

본 연구에서는
기계학습 및 딥 러닝 라이브러리인 텐서플로우 (Tensorflow)에서 제공하는
케라스 (Keras) API를 이용하여
수정 VGG-GAP 모형을 구현하였다.
최종적으로 구현된 모형의 구조는 [@fig:summary]와 같다.

![수정 VGG-GAP 모형 개요](summary.png){#fig:summary}

다음으로,
이 모형이
한국 아파트 단위평면의 공간배치를 보고 준공 시기를 예측할 수 있도록
[@sec:floorplan]에서 구축한 한국 아파트 단위평면 데이터셋을 학습시켰다.
학습 결과, 공간배치 분석 모형은 한국 아파트 단위평면 50,252개 중 29,027개 평면에 대하여 5년 단위 시기를 정확히 예측하였다. 16,457개 평면에 대해서는 정확한 준공연도의 직전 시기 또는 직후 시기로 예측하였는데, 이를 포함하면 총 90.51%의 사례에 대하여 5년 이내의 오차로 준공 시기를 예측하였다 ([@fig:5y]).
이렇게 공간배치 분석 모형이
시기별 단위평면을 잘 분류할 수 있다는 것은
각 시기의 단위평면에서만 나타나는 특징을 잘 학습하였다는 것을 의미한다.

![준공 시기 예측 결과](vgg_5y_heatmap.pdf){#fig:5y}

이 장에서는 이와 같은 과정을 거쳐
한국 아파트에 대한 학습을 마친 모형을 활용하여
한국 아파트에서 나타나는 단위평면 계획의 진화과정을 분석한다.
