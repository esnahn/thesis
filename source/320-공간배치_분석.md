## 표현학습을 통한 공간배치 분석 {#sec:cam}

<!-- 표현학습 : 기계가 데이터로부터 유용한 정보를 추출하는 방법을 연구하는 분야 -->
<!-- 공간배치 분석 = 공간배치 데이터에서 학습된 잠재표현 도출 -->
<!-- 잠재표현 분석 모형 = VGG-GAP -->

단위평면에서 나타나는 공간배치의 특성을
데이터에서 귀납적으로 학습하는
표현학습 (representation learning)을 통하여
한국 아파트의 공간배치를 분석한다.
딥 러닝 모형은 표현학습을 통하여
데이터에 잠재된 구조를 모형 내부에 재현한다 (represent).
딥 러닝이 큰 성공을 거둘 수 있었던 것은
이 방법론을 적용하여
다양한 작업에 필요한 정보를
데이터에서 잘 학습할 수 있었기 때문이다.
따라서
딥 러닝 모형이
한국 아파트 단위평면을 대상으로
적절한 작업을 수행하도록 학습시키면
그 학습 과정에서
단위평면의 공간배치에서 분석하고자 하는 특성을
딥 러닝 모형이 도출하여 재현하도록 할 수 있다.

공간배치 분석에 딥 러닝을 활용하는 본 연구에서는
딥 러닝 모형이 수행하는 작업 자체가 목적이 아니기 때문에,
어떠한 작업을 통하여 학습할 것인지가 정해져 있지는 않다.
따라서 딥 러닝이 수행할 수 있는 다양한 작업 중에서
가장 적합한 작업을 선정할 수 있다.

기계학습 및 딥 러닝 분야에서 가장 많이 연구되는 작업은
분류 (classification) 이다.
다양한 패턴 인식 (pattern recognition) 문제는
분류 작업으로 표현될 수 있기 때문이다.
손글씨를 인식하여 숫자를 구분하는 MNIST나,
사진에서 사물을 식별하는 CIFAR-10, CIFAR-100 등,
대다수의 데이터셋이 분류 작업의 기계학습을 위하여 구축되었다.
딥 러닝의 발전 속도만큼 분류 문제의 규모도 성장해왔다.
MNIST 데이터셋은 10가지 숫자를 쓴 손글씨 이미지로 이루어져 있지만,
ImageNet10K 데이터셋은 약 1만 가지 사물의 사진을 담고 있다.

분류 작업을 수행하기 위하여
딥 러닝 모형이 학습하는 것은
데이터셋 안에 포함된 서로 다른 대상의 특징과 차이점이다.
각 대상만의 특징을 잘 학습하였다는 것은
분류 작업을 정확하게 수행할 수 있다는 것을 보임으로서 증명된다.
딥 러닝은 분류 작업으로 표현된 이미지 인식 문제에서
다른 방법론과 비교할 수 없는 수준의 정확도를 보이고 있으며,
때로는 사람보다 정확한 경우도 있다.

이러한 딥 러닝의 학습 능력은
한국 아파트 단위평면에 대한 연구에서도 활용될 수 있다.
아파트에 대한 선행 연구에서도
분류 작업으로 표현될 수 있는 연구 주제가 많이 발견된다.
시기별 단위평면 계획의 변화는
많은 선행연구에서 활용되는 분석 대상이다.
특정 사건이 건축 계획에 미친 영향을 파악하기 위하여
해당 사건 전후 시기 단위평면을 비교하는 경우도 있지만
[@박인석2014전용면적],
많은 경우 각 시기별 단위평면에 대한 분석을 통하여
통시적인 변화 양상을 도출한다
[@byun2016typology;@이상진2019부산;@최병숙2009여성관련;@최재필1996한국;@최재필1996공간구문론을].
반드시 시기에 따라 구분하지 않더라도,
다양한 기준에 따라 단위평면을 유형화하는 연구도 많다.
그 기준이 단위평면에 내재된 것이 아니라
위치한 국가 [@김성규2016한국과;@단경위2012한국과],
공급 방식 [@최재필2016리모델링을],
주동 형태 [@배연희2019최근]
등의 외부적 조건이라면,
서로 다른 집단 사이의 차이를 비교하여
외부적 조건이 단위평면에 미친 영향을 분석하는 방법론은
동일하게 적용될 수 있다.

그러나
딥 러닝 모형이 대상에 대한 이해를 갖춘 것과
그것을 사람이 이해할 수 있는 방식으로 설명하는 것은
별개의 문제이다.
마치 어떤 학생이
다양한 건축 양식을 꼭 집어 설명하지는 못하더라도
보면 바로 알아맞추는 경우와 같다.
딥 러닝은
모형의 높은 복잡도 때문에
특히 여러 기계학습 방법론 중에서도
가장 모형의 내부 표현 (internal representation)을
이해하기 어려운 편에 속한다.
이 때문에
딥 러닝 모형이 학습한 내용을
사람이 이해할 수 있는 형태로 표현하기 위한 연구도 활발하게 진행되고 있다.

앞에서 논의한 내용을 고려하여,
시기 등 다양한 기준에 따른 단위평면 계획의 차이를 분석할 수 있는
딥 러닝 모형을 선정한다.
딥 러닝 모형의 선정 기준은 크게 두 가지이다.
첫 번째는 이미지 형태로 정리된 단위평면 데이터셋에서
서로 다른 집단 사이에서 나타나는
공간배치 계획의 차이를 학습할 수 있는 능력이 있어야 하며,
두 번째는 모형 내부에 학습된 단위평면 계획 특성을
사람이 해석할 수 있는 형태로 도출할 수 있어야 한다.

이를 위하여,
본 연구에서는
Zhou 등 [-@Zhou2015]이 개발한
CAM (class activation mapping) 방법론을 활용한다.
CAM 방법론은
이미지 인식을 통한 분류를 수행하는 딥 러닝 모형에 대하여
각 이미지가 해당 범주로 분류된 이유를
시각화하는 방법론이다.
구체적으로,
이미지 안의 각 영역에 대하여
해당 범주의 특성으로 인식되는 강도를 측정하고,
이를 전체 이미지에 대하여 시각화한다.
이러한 과정을 통하여
딥 러닝 모형이
이미지 안의 어느 영역에서
해당 범주의 특성이 나타난다고 판단하는지를 알 수 있다.

[@fig:cam]은
이미지 분류 모형에서
각 이미지가 분류되도록 하는 특성이 나타나는 영역을
CAM으로 시각화한 것이다 [@Zhou2015].
윗줄의 이미지는
각각 양치질과 톱질을 나타내는 사진으로,
딥 러닝 모형이 해당 행동으로 정확하게 분류하고 있다.
아랫줄에서는
각 이미지에 대한 CAM 분석 결과를 보여준다.
사진 안에서 어떤 영역이
딥 러닝 모형의 판단에
각 영역이 미친 영향의 크기를 색으로 표현하여,
가장 큰 영향을 준 영역을 빨간 색으로 나타낸다.
이러한 시각화를 통하여
딥 러닝 모형은 칫솔을 보고 양치질을 인식하고,
전기톱과 모자를 보고 톱질을 인식하고 있다는 것을
사람도 쉽게 이해할 수 있다.
이렇게 CAM 방법론을 통하여
사람이 쉽게 파악하기 어려운 딥 러닝 모형의 내부적인 구조를
파악할 수 있다.

![CAM을 통한 분류 근거 영역 시각화 [@Zhou2015]](cam_zhou.png){#fig:cam}

단위평면을 특정 기준에 따라 분류하는 딥 러닝 모형에 CAM 방법론을 적용하면,
각 범주별 단위평면의 공간배치에서 나타나는 계획 특성을 시각화할 수 있다.
예를 들어,
특정 시기, 지역, 주동 형태의 단위평면을 특징짓는
계획 특성에 해당하는 영역을 강조하여 나타낼 수 있다는 의미이다.
연구자는 해당 영역에 표현된 공간배치를 보고,
건축적 조건을 고려한 외재적 해석을 제공할 수 있다.

딥 러닝에 CAM을 적용하기 위하여
저자들은 딥 러닝 모형의 마지막 계층에
GAP (global average pooling) 계층을 적용하였다.
논문에서 저자들은
AlexNet, VGGNet, GoogLeNet 3가지 이미지 분류 모형에 대하여
GAP 계층을 적용하여 그 성능을 비교하였는데,
이 중 VGGNet과 GoogLeNet이
여러 기준 모두에서 유사하게 뛰어난 성능을 보였다 [@Zhou2015].
두 모형 모두 본 연구에 활용하기에 적합하지만,
VGGNet의 신경망 구조가 더 단순하고 직관적인 장점이 있어
[@simonyan2014deep]
본 연구에서는 VGGNet에 GAP 계층을 적용한 VGG-GAP 모형을
단위평면 공간배치 분석 모형으로 선정한다.

공간배치 분석 모형은
단위평면 데이터셋에서
단위평면을 기준에 따라 분류하는 과정을 통하여
각 범주별 공간배치 특성을 학습한다.
따라서 본 연구의 방법론을 검증하기 위하여 구축되는
[@sec:floorplan]의 한국 아파트 단위평면 데이터셋은
단위평면의 공간배치 데이터 뿐만 아니라,
분류를 통한 학습이 가능하도록
공간배치 분류 기준이 될 수 있는 데이터를 함께 포함하여야 한다.
이들 데이터는 우선 본 연구에서 선정한 VGG-GAP 모형에 적용할 수 있도록
구축되어야 하지만,
다른 한편으로는 앞으로 개발될 다양한 딥 러닝 모형에 활용할 수 있도록
최대한 범용적인 형태로 구축한다.
